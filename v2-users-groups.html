<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Users & Groups - Version Two</title>
<script src="https://kit.fontawesome.com/3d14c46c3e.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="blueprint-workflow-styles.css">
<link rel="stylesheet" href="blueprint-navigation.css">
<link rel="stylesheet" href="blueprint-button-styles.css">
<link rel="stylesheet" href="blueprint-table-styles.css">
<style>
/* Page-specific styles for Users & Groups */

.content { padding: 0 20px; }

/* Tabs */
.tabs-container { 
  display: flex; 
  gap: 32px; 
  border-bottom: 2px solid #e7e6e5; 
  margin-bottom: 24px; 
}
.tab { 
  padding: 12px 0; 
  cursor: pointer; 
  position: relative; 
  display: flex; 
  align-items: center; 
  gap: 8px;
  font-family: 'Montserrat', sans-serif;
  font-size: 14px;
  font-weight: 500;
  color: #1c1f22;
  background: none;
  border: none;
}
.tab.active { 
  font-weight: 700; 
}
.tab.active::after { 
  content: ''; 
  position: absolute; 
  bottom: -2px; 
  left: 0; 
  right: 0; 
  height: 4px; 
  background: #1c1f22; 
}
.tab-count { 
  background: #e7e6e5; 
  color: #1c1f22; 
  border-radius: 30px; 
  padding: 2px 6px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 12px; 
  font-weight: 600; 
}

/* Action Bar */
.action-bar { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: 20px; 
}
.action-bar-left { 
  display: flex; 
  gap: 12px; 
  align-items: center; 
}
.action-bar-right { 
  display: flex; 
  gap: 12px; 
  align-items: center; 
}

/* Filter Dropdowns */
.filter-dropdown { 
  padding: 8px 12px; 
  border: 1px solid #4a4f55; 
  border-radius: 4px; 
  background: white; 
  color: #4a4f55; 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
  font-weight: 500; 
  cursor: pointer; 
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Search Icon Button */
.search-icon-btn { 
  width: 32px; 
  height: 32px; 
  border: 1px solid #4a4f55; 
  border-radius: 4px; 
  background: white; 
  color: #4a4f55; 
  cursor: pointer; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
}

/* Table Customizations */
.user-name-cell { 
  display: flex; 
  flex-direction: column; 
  gap: 4px; 
}
.user-name-row { 
  display: flex; 
  align-items: center; 
  gap: 8px; 
}
.user-name-link { 
  color: #0c79a8; 
  text-decoration: none; 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
  font-weight: 500; 
}
.user-name-link:hover { 
  text-decoration: underline; 
}
.job-function { 
  display: flex; 
  align-items: center; 
  gap: 6px; 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
  color: #4a4f55; 
}
.job-function i { 
  font-size: 12px; 
}

/* Role Badges */
.role-badge { 
  background: #6b5b95; 
  color: white; 
  padding: 2px 6px; 
  border-radius: 4px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 11px; 
  font-weight: 700; 
  text-transform: uppercase; 
}

/* License Status */
.license-status { 
  display: flex; 
  flex-direction: column; 
  gap: 4px; 
}
.status-text { 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
}
.date-badge { 
  background: #f4f4f4; 
  padding: 2px 8px; 
  border-radius: 4px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 12px; 
  color: #4a4f55; 
  display: inline-block;
  width: fit-content;
}

/* Product Role Badge */
.product-role-badge { 
  background: #0c79a8; 
  color: white; 
  padding: 4px 8px; 
  border-radius: 4px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 12px; 
  font-weight: 700; 
  display: inline-block;
}

/* Group Table Customizations */
.group-name-cell { 
  display: flex; 
  flex-direction: column; 
  gap: 4px; 
}
.group-name { 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
  font-weight: 700; 
  color: #1c1f22; 
}
.group-description { 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
  color: #4a4f55; 
}
.group-users { 
  display: flex; 
  flex-direction: column; 
  gap: 6px; 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
}
.user-count-row { 
  display: flex; 
  align-items: center; 
  gap: 6px; 
}
.subscription-list { 
  display: flex; 
  flex-direction: column; 
  gap: 4px; 
}
.subscription-item { 
  display: flex; 
  align-items: center; 
  gap: 6px; 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
}
.subscription-item i { 
  color: #88888e; 
}
.no-subscription { 
  display: flex; 
  align-items: center; 
  gap: 6px; 
  color: #dc3545; 
  font-family: 'Gotham Book', sans-serif;
  font-size: 14px; 
}

/* Action Buttons in Table */
.action-buttons { 
  display: flex; 
  gap: 8px; 
  align-items: center; 
}
.delete-icon-btn { 
  background: none; 
  border: none; 
  color: #e57373; 
  font-size: 16px; 
  cursor: pointer; 
  padding: 4px; 
}
.delete-icon-btn:hover { 
  color: #d32f2f; 
}

/* Tab Content */
.tab-content { 
  display: none; 
}
.tab-content.active { 
  display: block; 
}

/* Table Footer */
.table-footer { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  padding: 16px 0; 
  border-top: 1px solid #e7e6e5; 
  margin-top: 16px; 
}
.pagination-controls { 
  display: flex; 
  align-items: center; 
  gap: 16px; 
}
.rows-per-page { 
  display: flex; 
  align-items: center; 
  gap: 8px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
}
.page-dropdown { 
  padding: 4px 8px; 
  border: 1px solid #dad8d7; 
  border-radius: 4px; 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
}
.results-count { 
  font-family: 'Montserrat', sans-serif;
  font-size: 14px; 
  color: #4a4f55; 
}
.pagination-arrows { 
  display: flex; 
  gap: 8px; 
}
.pagination-arrow { 
  width: 32px; 
  height: 32px; 
  border: 1px solid #dad8d7; 
  border-radius: 4px; 
  background: white; 
  cursor: pointer; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
}
.pagination-arrow:disabled { 
  opacity: 0.5; 
  cursor: not-allowed; 
}

</style>
</head>
<body>

<!-- Compact Navigation (Top) -->
<div class="compact-nav">
  <button class="compact-button" onclick="window.location.href='v2-subscription-overview.html'">
    <i class="compact-button__icon fa-light fa-credit-card"></i>
    <span class="compact-button__label">Subs & Licenses</span>
  </button>
  <button class="compact-button" onclick="window.location.href='v2-user-roles.html'">
    <i class="compact-button__icon fa-light fa-shield-check"></i>
    <span class="compact-button__label">User Roles</span>
  </button>
  <button class="compact-button" onclick="window.location.href='v2-company-overview.html'">
    <i class="compact-button__icon fa-light fa-building"></i>
    <span class="compact-button__label">Company</span>
  </button>
  <button class="compact-button active">
    <i class="compact-button__icon fa-light fa-users"></i>
    <span class="compact-button__label">Users & Groups</span>
  </button>
</div>

<!-- Sidebar Navigation -->
<div class="sidebar">
  <div class="logo-container">
    <img src="https://via.placeholder.com/160x40/0C79A8/FFFFFF?text=ConstructConnect" alt="ConstructConnect Logo" class="logo">
  </div>
  
  <div class="nav-buttons">
    <button class="sidebar-button" onclick="window.location.href='v2-subscription-overview.html'">
      <i class="sidebar-button__icon fa-light fa-credit-card"></i>
      <span class="sidebar-button__label">Subs &<br>Licenses</span>
    </button>
    <button class="sidebar-button" onclick="window.location.href='v2-user-roles.html'">
      <i class="sidebar-button__icon fa-light fa-shield-check"></i>
      <span class="sidebar-button__label">User<br>Roles</span>
    </button>
    <button class="sidebar-button" onclick="window.location.href='v2-company-overview.html'">
      <i class="sidebar-button__icon fa-light fa-building"></i>
      <span class="sidebar-button__label">Company</span>
    </button>
    <button class="sidebar-button active">
      <i class="sidebar-button__icon fa-light fa-users"></i>
      <span class="sidebar-button__label">Users &<br>Groups</span>
    </button>
  </div>
</div>

<!-- Main Content -->
<div class="main-content">
  <div class="container">
    
    <!-- Header -->
    <div class="header">
      <div class="header-top">
        <h1>Users & Groups</h1>
        <div class="header-icons">
          <button class="icon-btn" onclick="openInviteDrawer()">
            <i class="fa-solid fa-user-plus"></i>
            <span class="tooltip">Invite User</span>
          </button>
          <button class="icon-btn">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span class="tooltip">History</span>
          </button>
          <button class="icon-btn">
            <i class="fa-solid fa-user-headset"></i>
            <span class="tooltip">Support User</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs-container">
      <button class="tab active" data-tab="users">
        Organization Users
        <span class="tab-count">47</span>
      </button>
      <button class="tab" data-tab="groups">
        Groups
        <span class="tab-count">3</span>
      </button>
    </div>

    <!-- Users Tab Content -->
    <div class="tab-content active" id="users-content">
      
      <!-- Action Bar -->
      <div class="action-bar">
        <div class="action-bar-left">
          <button class="btn-primary" id="manageSelectedBtn" disabled>Manage Selected Users</button>
          <select class="filter-dropdown">
            <option>Show All Licenses</option>
          </select>
          <select class="filter-dropdown">
            <option>Show All Roles</option>
          </select>
          <select class="filter-dropdown">
            <option>Show All Groups</option>
          </select>
        </div>
        <div class="action-bar-right">
          <button class="search-icon-btn">
            <i class="fa-regular fa-magnifying-glass"></i>
          </button>
          <button class="btn-default" onclick="openInviteDrawer()">Invite New User</button>
        </div>
      </div>

      <!-- Users Table -->
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th style="width: 40px;"><input type="checkbox" id="selectAllUsers"></th>
              <th style="width: 180px;">User Name</th>
              <th>Project Intelligence</th>
              <th>Bid Management</th>
              <th>Takeoff & Estimating</th>
              <th style="width: 120px;">Last Access Date</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="checkbox" class="user-checkbox"></td>
              <td>
                <div class="user-name-cell">
                  <div class="user-name-row">
                    <a href="#" class="user-name-link">Tony Smith</a>
                    <span class="role-badge">ADMIN</span>
                  </div>
                  <div class="job-function">
                    <i class="fa-regular fa-user"></i>
                    <span>Project Manager</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="license-status">
                  <span class="status-text">Full Access</span>
                  <span class="date-badge">Modified 123</span>
                </div>
              </td>
              <td>
                <span class="product-role-badge">BM - Team Member</span>
              </td>
              <td>
                <span class="product-role-badge">Estimator 123</span>
              </td>
              <td>March 12, 2025</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="user-checkbox"></td>
              <td>
                <div class="user-name-cell">
                  <div class="user-name-row">
                    <a href="#" class="user-name-link">Sarah Johnson</a>
                    <span class="role-badge">OWNER</span>
                  </div>
                  <div class="job-function">
                    <i class="fa-regular fa-user"></i>
                    <span>Executive Director</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="license-status">
                  <span class="status-text">Active</span>
                  <span class="date-badge">Modified 45</span>
                </div>
              </td>
              <td>
                <span class="product-role-badge">BM - Admin</span>
              </td>
              <td>
                <span class="product-role-badge">Takeoff Admin</span>
              </td>
              <td>March 15, 2025</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="user-checkbox"></td>
              <td>
                <div class="user-name-cell">
                  <div class="user-name-row">
                    <a href="#" class="user-name-link">Mike Chen</a>
                  </div>
                  <div class="job-function">
                    <i class="fa-regular fa-user"></i>
                    <span>Estimator</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="license-status">
                  <span class="status-text">No Access</span>
                </div>
              </td>
              <td>
                <span class="status-text">No Access</span>
              </td>
              <td>
                <span class="product-role-badge">Estimator 456</span>
              </td>
              <td>March 10, 2025</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Table Footer -->
      <div class="table-footer">
        <div></div>
        <div class="pagination-controls">
          <div class="rows-per-page">
            <span>Rows per page</span>
            <select class="page-dropdown">
              <option>50</option>
              <option>100</option>
              <option>200</option>
            </select>
          </div>
          <span class="results-count">1-3 of 47</span>
          <div class="pagination-arrows">
            <button class="pagination-arrow" disabled>
              <i class="fa-regular fa-chevron-left"></i>
            </button>
            <button class="pagination-arrow">
              <i class="fa-regular fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>

    </div>

    <!-- Groups Tab Content -->
    <div class="tab-content" id="groups-content">
      
      <!-- Action Bar -->
      <div class="action-bar">
        <div class="action-bar-left">
          <button class="btn-primary" onclick="openCreateGroupDrawer()">Create New Group</button>
        </div>
        <div class="action-bar-right">
          <button class="search-icon-btn">
            <i class="fa-regular fa-magnifying-glass"></i>
          </button>
        </div>
      </div>

      <!-- Groups Table -->
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th style="width: 200px;">Group Name and Description</th>
              <th style="width: 120px;">Users</th>
              <th style="width: 200px;">
                Group Subscription(s)
                <i class="fa-regular fa-circle-info" style="margin-left: 4px; font-size: 12px;"></i>
              </th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div class="group-name-cell">
                  <div class="group-name">Browncoats</div>
                  <div class="group-description">Independent test team, currently working on some updated projects</div>
                </div>
              </td>
              <td>
                <div class="group-users">
                  <div class="user-count-row">
                    <i class="fa-regular fa-user"></i>
                    <span>2 Admins</span>
                  </div>
                  <div class="user-count-row">
                    <i class="fa-regular fa-users"></i>
                    <span>5 Users</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="subscription-list">
                  <div class="subscription-item">
                    <i class="fa-regular fa-diamond"></i>
                    <span>Project Intelligence</span>
                  </div>
                  <div class="subscription-item">
                    <i class="fa-regular fa-diamond"></i>
                    <span>Bid Management</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="action-buttons">
                  <button class="btn-default" onclick="openManageGroupDrawer()">Manage Group</button>
                  <button class="btn-default">Duplicate</button>
                  <button class="delete-icon-btn">
                    <i class="fa-regular fa-trash-can"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="group-name-cell">
                  <div class="group-name">Alliance</div>
                  <div class="group-description">Larger team working with more of our schools and civic projects</div>
                </div>
              </td>
              <td>
                <div class="group-users">
                  <div class="user-count-row">
                    <i class="fa-regular fa-user"></i>
                    <span>2 Admins</span>
                  </div>
                  <div class="user-count-row">
                    <i class="fa-regular fa-users"></i>
                    <span>8 Users</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="no-subscription">
                  <i class="fa-regular fa-xmark"></i>
                  <span>None</span>
                </div>
              </td>
              <td>
                <div class="action-buttons">
                  <button class="btn-default" onclick="openManageGroupDrawer()">Manage Group</button>
                  <button class="btn-default">Duplicate</button>
                  <button class="delete-icon-btn">
                    <i class="fa-regular fa-trash-can"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="group-name-cell">
                  <div class="group-name">Serenity Group</div>
                  <div class="group-description">The most chill of groups</div>
                </div>
              </td>
              <td>
                <div class="group-users">
                  <div class="user-count-row">
                    <i class="fa-regular fa-user"></i>
                    <span>1 Admins</span>
                  </div>
                  <div class="user-count-row">
                    <i class="fa-regular fa-users"></i>
                    <span>2 Users</span>
                  </div>
                </div>
              </td>
              <td>
                <div class="no-subscription">
                  <i class="fa-regular fa-xmark"></i>
                  <span>None</span>
                </div>
              </td>
              <td>
                <div class="action-buttons">
                  <button class="btn-default" onclick="openManageGroupDrawer()">Manage Group</button>
                  <button class="btn-default">Duplicate</button>
                  <button class="delete-icon-btn">
                    <i class="fa-regular fa-trash-can"></i>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Table Footer -->
      <div class="table-footer">
        <div></div>
        <div class="pagination-controls">
          <div class="rows-per-page">
            <span>Rows per page</span>
            <select class="page-dropdown">
              <option>50</option>
              <option>100</option>
              <option>200</option>
            </select>
          </div>
          <span class="results-count">1-3 of 3</span>
          <div class="pagination-arrows">
            <button class="pagination-arrow" disabled>
              <i class="fa-regular fa-chevron-left"></i>
            </button>
            <button class="pagination-arrow" disabled>
              <i class="fa-regular fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>

<script>
// Tab switching
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', function() {
    const tabName = this.dataset.tab;
    
    // Update active tab
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    this.classList.add('active');
    
    // Update active content
    document.querySelectorAll('.tab-content').forEach(content => {
      content.classList.remove('active');
    });
    document.getElementById(tabName + '-content').classList.add('active');
  });
});

// Checkbox management
const selectAllCheckbox = document.getElementById('selectAllUsers');
const userCheckboxes = document.querySelectorAll('.user-checkbox');
const manageSelectedBtn = document.getElementById('manageSelectedBtn');

selectAllCheckbox.addEventListener('change', function() {
  userCheckboxes.forEach(checkbox => {
    checkbox.checked = this.checked;
  });
  updateManageButton();
});

userCheckboxes.forEach(checkbox => {
  checkbox.addEventListener('change', updateManageButton);
});

function updateManageButton() {
  const anyChecked = Array.from(userCheckboxes).some(cb => cb.checked);
  manageSelectedBtn.disabled = !anyChecked;
}

// Drawer functions (placeholders - will be implemented with drawer components)
function openInviteDrawer() {
  alert('Invite Users drawer will open here');
}

function openCreateGroupDrawer() {
  alert('Create Group drawer will open here');
}

function openManageGroupDrawer() {
  alert('Manage Group drawer will open here');
}
</script>

</body>
</html>
